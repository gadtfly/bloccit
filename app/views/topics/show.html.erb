<h1><%= @topic.name %></h1>

<% if policy(@topic).update? %>
  <%= link_to "Edit Topic", edit_topic_path, class: 'btn btn-success' %>
<% end %>

<div class="row">
  <div class="col-md-8">
    <p class="lead"><%= @topic.description %></p>
    <!-- if confused about rendering the 'posts/_post.html.erb partial' see: 'http://guides.rubyonrails.org/layouts_and_rendering.html#rendering-collections' --> 
    <%= render @posts %>
    <%= will_paginate @posts %>
  </div>
  <div>
    <% if policy(Post.new).create? %>
      <%= link_to "New Post", new_topic_post_path(@topic), class: 'btn btn-success' %>
    <% end %>
  </div>
  <div>
    <% if policy(@topic).destroy? %>
      <%= link_to "Delete Topic", @topic, method: :delete, class: 'btn btn-danger', data: { confirm: 'Are you sure you want to delete this topic'} %>
          <!-- method: :delete is used to explicitly send an HTTP DELETE request. -->
    <% end %>
  </div>
</div>
